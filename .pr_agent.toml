# ============================================================================
# General Configuration
# ============================================================================
[config]
# Disable all automatic feedback (manual commands still work)
disable_auto_feedback = false

# ============================================================================
# Git Provider Configuration
# ============================================================================
[github_app]
# Commands that run automatically when a PR is opened
# Use one /review OR /compliance, but both will overlap
pr_commands = [
    "/describe",  # Generates PR title, summary, and walkthrough
    "/review",    # Provides feedback and identifies issues
    "/improve"    # Suggests code improvements
]

# Enable automatic feedback on push events (new commits to open PRs)
handle_push_trigger = true

# Commands to run when new code is pushed to an existing PR
push_commands = [
    "/describe",  # Update PR description with new changes
    "/review",     # Re-review the updated code
    "/improve_multi --more_suggestions"     # New suggestions 
]

# Set to false if you don't want automatic tools to run on draft PRs
feedback_on_draft_pr = false

# ============================================================================
# Code Suggestions Configuration
# ============================================================================
[pr_code_suggestions]
# When false, suggestions appear in a table format (recommended)
# When true, suggestions appear as inline committable code comments
commitable_code_suggestions = false

# Dual publishing mode: suggestions with score >= this threshold will appear
# both in the table AND as inline comments (set to -1 to disable)
# Score range: 0-10, where 10 is highest impact
dual_publishing_score_threshold = 8

# Allow reusing suggestion types across multiple suggestions
# Helps generate more diverse and comprehensive feedback
enable_suggestion_type_reuse = false

# Filter out suggestions below this score (0-10 scale)
suggestions_score_threshold = 6

# Control suggestion depth: "selective", "regular", or "exhaustive"
suggestions_depth = "selective"

# Focus primarily on problems vs. style/best practices
focus_only_on_problems = true

# Keep suggestion comments persistent (edit previous comment on new runs)
persistent_comment = true

# Enable interactive "Apply" checkbox for suggestions
apply_suggestions_checkbox = true

# ============================================================================
# PR Description Configuration
# ============================================================================
[pr_description]
# Automatically publish labels to the PR
publish_labels = false

# Generate AI-powered PR title
generate_ai_title = false

# Preserve original user description above AI-generated content
add_original_user_description = true

# Enable the "Changes walkthrough" section
enable_semantic_files_types = false

# Enable sequence diagram generation
enable_pr_diagram = false

# ============================================================================
# PR Review Configuration
# ============================================================================
[pr_reviewer]
# Keep review comments persistent (edit previous comment on new runs)
persistent_comment = true

# Analyze linked tickets for compliance - leave false until Jira is integrated
require_ticket_analysis_review = false 

# Custom instructions for the review tool
# Example: "Focus on error handling and edge cases"
extra_instructions = ""

# ============================================================================
# Compliance
# ============================================================================
[pr_compliance]
# Analyze linked tickets for compliance - leave false until Jira is integrated
require_ticket_analysis_review = false

# ============================================================================
# Best Practices and Auto Best Practices Configuration
# ============================================================================
[best_practices]
# Enable global best practices from pr-agent-settings repository
enable_global_best_practices = false

# Custom organization name for best practice labels
organization_name = "Box"

[auto_best_practices]
# Enable automatic learning from accepted suggestions
enable_auto_best_practices = true

# Use auto-generated best practices in improve tool
utilize_auto_best_practices = true
